!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactHistory=t(require("react")):e.ReactHistory=t(e.React)}(this,function(e){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.ControlledMemoryRouter=t.ControlledBrowserRouter=t.ControlledHistory=void 0;var n=r(2),i=o(n),s=r(8),a=o(s),c=r(9),u=o(c);t.ControlledHistory=i["default"],t.ControlledBrowserRouter=a["default"],t.ControlledMemoryRouter=u["default"]},function(t,r){t.exports=e},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=r(1),c=o(a),u=r(3),p=[void 0],f=function(e){function t(r){n(this,t);var o=i(this,e.call(this,r)),s=r.history.location,a=!!s.key;return o.updatingFromHistoryChange=!1,o.syncingHistory=!1,o.keys=a?r.restoreKeys()||p:p,o.setupHistory(),o.state={location:s,action:"POP"},o}return s(t,e),t.prototype.getChildContext=function(){return{history:this.props.history}},t.prototype.componentWillReceiveProps=function(e){if(!this.syncingHistory&&!this.updatingFromHistoryChange&&!(0,u.locationsAreEqual)(e.location,this.props.location)){this.syncingHistory=!0;var t=this.props.history,r=e.action,o=e.location,n=this.keys.indexOf(o.key);if(o.key&&n!==-1){var i=this.keys.indexOf(this.props.location.key),s=n-i;t.go(s)}else"PUSH"===r?t.push(o):"REPLACE"===r&&t.replace(o)}},t.prototype.setupHistory=function(){var e=this;this.props.history.listen(function(t,r){e.storeKey(t.key,r),e.updatingFromHistoryChange=!0,e.syncingHistory?e.props.onChange(t,"SYNC"):e.props.onChange(t,r),e.setState({location:t,action:r},function(){e.updatingFromHistoryChange=!1,e.syncingHistory?e.syncingHistory=!1:e.checkIfLocationAccepted()})})},t.prototype.checkIfLocationAccepted=function(){var e=this.props.location,t=this.state,r=t.location,o=t.action;if(!(0,u.locationsAreEqual)(e,r)){this.syncingHistory=!0;var n=this.keys.indexOf(e.key),i=this.keys.indexOf(r.key),s=n-i;"REPLACE"===o?this.props.history.replace(e):(i===-1?this.props.history.go(-1):this.props.history.go(s),"PUSH"===o&&this.keys.pop())}},t.prototype.storeKey=function(e,t){"PUSH"===t?this.keys.push(e):"REPLACE"===t&&(this.keys[this.keys.length-1]=e),this.keys.length>50&&this.keys.unshift(),this.props.saveKeys(this.keys)},t.prototype.render=function(){var e=this.props,t=e.history,r=e.location,o=e.action;return this.props.children({history:t,location:r,action:o})},t}(c["default"].Component);f.propTypes={children:a.PropTypes.func.isRequired,history:a.PropTypes.object.isRequired,location:a.PropTypes.object.isRequired,action:a.PropTypes.string.isRequired,onChange:a.PropTypes.func.isRequired,restoreKeys:a.PropTypes.func.isRequired,saveKeys:a.PropTypes.func.isRequired},f.childContextTypes={history:a.PropTypes.object.isRequired},f.defaultProps={restoreKeys:function(){return p},saveKeys:function(){}},t["default"]=f},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=r(18),a=o(s),c=r(4),u=(t.createLocation=function(e,t,r,o){var n=void 0;return"string"==typeof e?(n=(0,c.parsePath)(e),n.state=t):(n=i({},e),void 0===n.pathname&&(n.pathname=""),n.search?"?"!==n.search.charAt(0)&&(n.search="?"+n.search):n.search="",n.hash?"#"!==n.hash.charAt(0)&&(n.hash="#"+n.hash):n.hash="",void 0!==t&&void 0===n.state&&(n.state=t)),n.key=r,o&&(n.pathname?"/"!==n.pathname.charAt(0)&&(n.pathname=(0,a["default"])(n.pathname,o.pathname)):n.pathname=o.pathname),n},function p(e,t){if(null==e)return e==t;var r="undefined"==typeof e?"undefined":n(e),o="undefined"==typeof t?"undefined":n(t);if(r!==o)return!1;if(Array.isArray(e))return!(!Array.isArray(t)||e.length!==t.length)&&e.every(function(e,r){return p(e,t[r])});if("object"===r){var i=Object.keys(e),s=Object.keys(t);return i.length===s.length&&i.every(function(r){return p(e[r],t[r])})}return e===t});t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}},function(e,t){"use strict";t.__esModule=!0;t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.stripPrefix=function(e,t){return 0===e.indexOf(t)?e.substr(t.length):e},t.parsePath=function(e){var t=e||"/",r="",o="",n=t.indexOf("#");n!==-1&&(o=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");return i!==-1&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===r?"":r,hash:"#"===o?"":o}},t.createPath=function(e){var t=e.pathname,r=e.search,o=e.hash,n=t||"/";return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}},function(e,t,r){"use strict";var o=function(e,t,r,o,n,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,o,n,i,s,a],p=0;c=new Error(t.replace(/%s/g,function(){return u[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=o},function(e,t,r){"use strict";t.__esModule=!0,t.routerContext=t.historyContext=t.location=t.history=t.matchContext=t.action=void 0;var o=r(1),n=t.action=o.PropTypes.oneOf(["PUSH","REPLACE","POP"]),i=(t.matchContext=o.PropTypes.shape({addMatch:o.PropTypes.func.isRequired,removeMatch:o.PropTypes.func.isRequired}),t.history=o.PropTypes.shape({listen:o.PropTypes.func.isRequired,listenBefore:o.PropTypes.func.isRequired,push:o.PropTypes.func.isRequired,replace:o.PropTypes.func.isRequired,go:o.PropTypes.func.isRequired}),t.location=o.PropTypes.shape({pathname:o.PropTypes.string.isRequired,search:o.PropTypes.string.isRequired,hash:o.PropTypes.string.isRequired,state:o.PropTypes.any,key:o.PropTypes.string}));t.historyContext=o.PropTypes.shape({action:n.isRequired,location:i.isRequired,push:o.PropTypes.func.isRequired,replace:o.PropTypes.func.isRequired,go:o.PropTypes.func.isRequired,goBack:o.PropTypes.func.isRequired,goForward:o.PropTypes.func.isRequired,canGo:o.PropTypes.func,block:o.PropTypes.func.isRequired}),t.routerContext=o.PropTypes.shape({transitionTo:o.PropTypes.func.isRequired,replaceWith:o.PropTypes.func.isRequired,blockTransitions:o.PropTypes.func.isRequired,createHref:o.PropTypes.func.isRequired})},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=r(1),c=o(a),u=r(11),p=r(17),f=o(p),l=r(15),h=r(16),y=r(6),d=function(e){return(0,u.stringify)(e).replace(/%20/g,"+")},b=function(e){function t(){var r,o,s;n(this,t);for(var a=arguments.length,c=Array(a),u=0;u<a;u++)c[u]=arguments[u];return r=o=i(this,e.call.apply(e,[this].concat(c))),o.transitionTo=function(e){o.props.onPush(o.createLocation(e))},o.replaceWith=function(e){o.props.onReplace(o.createLocation(e))},o.blockTransitions=function(e){return o.props.blockTransitions(e)},o.createHref=function(e){var t=(0,h.createRouterPath)(e,o.props.stringifyQuery);return o.props.basename&&(t="/"===t?o.props.basename:t.length>=2&&"/"===t.charAt(0)&&"?"===t.charAt(1)?o.props.basename+t.substring(1):o.props.basename+t),o.props.createHref(t)},o.state={location:null},s=r,i(o,s)}return s(t,e),t.prototype.createLocation=function(e){var t=this.props,r=t.parseQueryString,o=t.stringifyQuery;return(0,h.createRouterLocation)(e,r,o)},t.prototype.getRouterContext=function(){return{transitionTo:this.transitionTo,replaceWith:this.replaceWith,blockTransitions:this.blockTransitions,createHref:this.createHref}},t.prototype.getChildContext=function(){return{router:this.getRouterContext()}},t.prototype.componentWillMount=function(){this.setState({location:this.createLocation(this.props.location)})},t.prototype.componentWillReceiveProps=function(e){var t=this.createLocation(e.location);(0,h.locationsAreEqual)(this.state.location,t)||this.setState({location:t})},t.prototype.render=function(){var e=this.state.location,t=this.props,r=t.action,o=t.children;return c["default"].createElement(l.LocationBroadcast,{value:e},c["default"].createElement(f["default"],null,"function"==typeof o?o({action:r,location:e,router:this.getRouterContext()}):c["default"].Children.only(o)))},t}(c["default"].Component);b.defaultProps={stringifyQuery:d,parseQueryString:u.parse,createHref:function(e){return e}},b.childContextTypes={router:y.routerContext.isRequired},t["default"]=b},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=r(1),a=o(s),c=r(2),u=o(c),p=r(7),f=o(p),l=function(){try{return JSON.parse(sessionStorage.ReactRouterKeys)}catch(e){}},h=function(e){try{sessionStorage.ReactRouterKeys=JSON.stringify(e)}catch(t){}},y=function(e){var t=e.history,r=e.location,o=e.action,s=e.onChange,c=e.basename,p=n(e,["history","location","action","onChange","basename"]);return a["default"].createElement(u["default"],{history:t,location:r,action:o,onChange:s,restoreKeys:l,saveKeys:h},function(e){var t=e.history,r=e.action,o=e.location;return a["default"].createElement(f["default"],i({action:r,location:o,basename:c,onPush:t.push,onReplace:t.replace,blockTransitions:t.block},p))})};y.propTypes={history:s.PropTypes.object,location:s.PropTypes.object,action:s.PropTypes.string,onChange:s.PropTypes.func,basename:s.PropTypes.string,children:s.PropTypes.oneOfType([s.PropTypes.func,s.PropTypes.node])},t["default"]=y},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=r(1),a=o(s),c=r(2),u=o(c),p=r(7),f=o(p),l=function(e){var t=e.history,r=e.location,o=e.action,s=e.onChange,c=e.restoreKeys,p=e.saveKeys,l=n(e,["history","location","action","onChange","restoreKeys","saveKeys"]);return a["default"].createElement(u["default"],{history:t,location:r,action:o,onChange:s,restoreKeys:c,saveKeys:p},function(e){var t=e.history,r=e.action,o=e.location;return a["default"].createElement(f["default"],i({action:r,location:o,onPush:t.push,onReplace:t.replace,blockTransitions:t.block},l))})};l.propTypes={history:s.PropTypes.object,location:s.PropTypes.object,action:s.PropTypes.string,onChange:s.PropTypes.func,restoreKeys:s.PropTypes.func,saveKeys:s.PropTypes.func,getUserConfirmation:s.PropTypes.func,initialEntries:s.PropTypes.array,initialIndex:s.PropTypes.number,keyLength:s.PropTypes.number,children:s.PropTypes.oneOfType([s.PropTypes.func,s.PropTypes.node])},t["default"]=l},function(e,t){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==o.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}var n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=o()?Object.assign:function(e,t){for(var o,s,a=r(e),c=1;c<arguments.length;c++){o=Object(arguments[c]);for(var u in o)n.call(o,u)&&(a[u]=o[u]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(o);for(var p=0;p<s.length;p++)i.call(o,s[p])&&(a[s[p]]=o[s[p]])}}return a}},function(e,t,r){"use strict";function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}var n=r(19),i=r(10);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var r=e.replace(/\+/g," ").split("="),o=r.shift(),n=r.length>0?r.join("="):void 0;o=decodeURIComponent(o),n=void 0===n?null:decodeURIComponent(n),void 0===t[o]?t[o]=n:Array.isArray(t[o])?t[o].push(n):t[o]=[t[o],n]}),t):t},t.stringify=function(e,t){var r={encode:!0,strict:!0};return t=i(r,t),e?Object.keys(e).sort().map(function(r){var n=e[r];if(void 0===n)return"";if(null===n)return o(r,t);if(Array.isArray(n)){var i=[];return n.slice().forEach(function(e){void 0!==e&&(null===e?i.push(o(r,t)):i.push(o(r,t)+"="+o(e,t)))}),i.join("&")}return o(r,t)+"="+o(n,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c=r(5),u=o(c),p=r(1),f=o(p),l=function(e){var t=[],r=e;return{publish:function(e){r=e,t.forEach(function(e){return e(r)})},subscribe:function(e){return t.push(e),e(r),function(){return t=t.filter(function(t){return t!==e})}}}},h=function(e){function t(){var r,o,s;n(this,t);for(var a=arguments.length,c=Array(a),u=0;u<a;u++)c[u]=arguments[u];return r=o=i(this,e.call.apply(e,[this].concat(c))),o.broadcast=l(o.props.value),s=r,i(o,s)}return s(t,e),t.prototype.getBroadcastsContext=function(){var e,t=this.props.channel,r=this.context.broadcasts;return a({},r,(e={},e[t]=this.broadcast.subscribe,e))},t.prototype.getChildContext=function(){return{broadcasts:this.getBroadcastsContext()}},t.prototype.componentWillReceiveProps=function(e){this.props.channel!==e.channel?(0,u["default"])(!1):void 0,this.props.value!==e.value&&this.broadcast.publish(e.value)},t.prototype.render=function(){return f["default"].Children.only(this.props.children)},t}(f["default"].Component);h.contextTypes={broadcasts:p.PropTypes.object},h.childContextTypes={broadcasts:p.PropTypes.object.isRequired},t["default"]=h},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=r(5),c=o(a),u=r(1),p=o(u),f=function(e){function t(){var r,o,s;n(this,t);for(var a=arguments.length,c=Array(a),u=0;u<a;u++)c[u]=arguments[u];return r=o=i(this,e.call.apply(e,[this].concat(c))),o.state={value:null},s=r,i(o,s)}return s(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.props.channel;if(this.context.broadcasts){var r=this.context.broadcasts[t];"function"!=typeof r?(0,c["default"])(!1):void 0,this.unsubscribe=r(function(t){e.setState({value:t})})}},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){return this.props.children(this.state.value)},t}(p["default"].Component);f.contextTypes={broadcasts:p["default"].PropTypes.object},t["default"]=f},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.Subscriber=t.Broadcast=void 0;var n=r(12),i=o(n),s=r(13),a=o(s);t.Broadcast=i["default"],t.Subscriber=a["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.LocationSubscriber=t.LocationBroadcast=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=r(1),s=o(i),a=r(14),c="location";t.LocationBroadcast=function(e){return s["default"].createElement(a.Broadcast,n({},e,{channel:c}))},t.LocationSubscriber=function(e){return s["default"].createElement(a.Subscriber,n({},e,{channel:c}))}},function(e,t,r){"use strict";t.__esModule=!0,t.createRouterPath=t.createRouterLocation=t.locationsAreEqual=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(3);Object.defineProperty(t,"locationsAreEqual",{enumerable:!0,get:function(){return n.locationsAreEqual}});var i=r(4);t.createRouterLocation=function(e,t,r){if("string"==typeof e){var o=(0,i.parsePath)(e);return o.query=""!==o.search?t(o.search):null,o}return{pathname:e.pathname||"",search:e.search||(e.query?"?"+r(e.query):""),hash:e.hash||"",state:e.state||null,query:e.query||(e.search?t(e.search):null)}},t.createRouterPath=function(e,t){return"string"==typeof e?e:(0,i.createPath)(o({},e,{search:e.search||(e.query?"?"+t(e.query):"")}))}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=r(1),c=o(a),u=r(6),p=function(e){function t(r){n(this,t);var o=i(this,e.call(this,r));return o.addMatch=function(e){o.matches.push(e)},o.removeMatch=function(e){o.matches.splice(o.matches.indexOf(e),1)},o.matches=[],o.subscribers=[],o.hasMatches=null,o.serverRouterIndex=null,o}return s(t,e),t.prototype.getChildContext=function(){var e=this;return{match:{addMatch:this.addMatch,removeMatch:this.removeMatch,matches:this.matches,parent:this.props.match,serverRouterIndex:this.serverRouterIndex,subscribe:function(t){return e.subscribers.push(t),function(){e.subscribers.splice(e.subscribers.indexOf(t),1)}}}}},t.prototype.componentDidUpdate=function(){this.notifySubscribers()},t.prototype.componentWillMount=function(){var e=this.context.serverRouter;e&&(this.serverRouterIndex=e.registerMatchContext(this.matches))},t.prototype.componentDidMount=function(){this.notifySubscribers()},t.prototype.notifySubscribers=function(){var e=this;this.subscribers.length&&(this.hasMatches=0!==this.matches.length,this.subscribers.forEach(function(t){return t(e.hasMatches)}))},t.prototype.render=function(){return this.props.children},t}(c["default"].Component);p.childContextTypes={match:u.matchContext.isRequired},p.contextTypes={serverRouter:a.PropTypes.object},t["default"]=p},function(e,t){"use strict";var r=function(e){return"/"===e.charAt(0)},o=function(e,t){for(var r=t,o=r+1,n=e.length;o<n;r+=1,o+=1)e[r]=e[o];e.pop()},n=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&r(e),a=t&&r(t),c=s||a;if(e&&r(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var u=void 0;if(i.length){var p=i[i.length-1];u="."===p||".."===p||""===p}else u=!1;for(var f=0,l=i.length;l>=0;l--){var h=i[l];"."===h?o(i,l):".."===h?(o(i,l),f++):f&&(o(i,l),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&r(i[0])||i.unshift("");var y=i.join("/");return u&&"/"!==y.substr(-1)&&(y+="/"),y};e.exports=n},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}}])});